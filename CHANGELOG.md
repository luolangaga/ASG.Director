# ASG.Director 更新日志

## v1.2.2 (待发布)

### 🔧 修复

- **修复自动更新功能**
  - 添加手动检查更新按钮到主界面
  - 修复启动时自动检查更新逻辑
  - 在顶部导航栏显示当前版本号
  - 版本徽章支持点击检查更新

- **修复布局包导入错误**
  - 修复 JSON 解析空文件导致的导入失败
  - 改进错误处理，即使 pack-config.json 无效也能导入
  - 改进临时目录清理逻辑，避免 Windows 文件占用问题
  - 添加布局包验证工具

### 🗑️ 清理

- **移除冗余代码**
  - 删除旧的 `updater.js`，统一使用 `updater-v2.js`
  - 清理重复的更新逻辑

### ✨ 新功能

- **热重载支持** 🔥
  - 导入布局包后前台窗口自动刷新
  - 重置布局后前台窗口自动刷新
  - 无需手动重启窗口即可看到新布局
  - 支持比分板窗口同步更新

- **自动保存布局** 💾
  - 前台窗口初始化时自动保存默认布局
  - 拖拽元素后 500ms 防抖自动保存
  - 调整大小后 500ms 防抖自动保存
  - 更换背景后立即自动保存
  - 无需手动点击保存按钮

- **快捷工具面板**
  - 添加导入布局按钮
  - 添加导出布局按钮
  - 添加重置布局按钮
  - 添加使用帮助按钮

- **傻瓜式操作引导**
  - 新增快速操作步骤提示栏
  - 显示 1→2→3→完成 的操作流程
  - 更新帮助文档，详细说明自动保存功能

### 💄 界面优化

- **顶部导航栏**
  - 添加版本号显示徽章
  - 添加检查更新按钮（带动画）
  - 有新版本时显示绿色提示

- **快速引导栏**
  - 显示操作步骤流程
  - 悬停效果和动画

- **操作反馈改进**
  - 导入布局成功后提示"✅ 前台窗口已自动更新"
  - 重置布局成功后提示"✅ 前台窗口已自动更新"
  - 更清晰的成功/失败状态提示

---

## v1.2.1

- 初始版本
- BP房间创建
- 布局包商店
- 赛程竞猜功能
- B站弹幕集成
